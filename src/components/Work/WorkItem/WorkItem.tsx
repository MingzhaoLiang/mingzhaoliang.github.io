import Card from "@/components/ui/Card/Card";
import classes from "./WorkItem.module.css";
import { useState } from "react";

interface WorkItemProps {
	work: {
		id: string;
		slug: string;
		title: string;
		description: string;
		techStack: string[];
		link: string;
		highlight?: boolean;
	};
}

export default function WorkItem({ work }: WorkItemProps) {
	const { slug, title, description, techStack, link, highlight } = work;

	const [isHovered, setIsHovered] = useState(false);

	const mouseOverHandler = () => {
		setIsHovered(true);
	};

	const mouseOutHandler = () => {
		setIsHovered(false);
	};

	return (
		<div className={highlight ? classes["big-block"] : classes["medium-block"]}>
			<Card onMouseOver={mouseOverHandler} onMouseOut={mouseOutHandler}>
				<a className={classes.container} target="_blank" href={link} rel="noreferrer">
					<div className={`transition-all-normal ${classes.title}`}>
						<h3>{title}</h3>
					</div>
					<div className={`transition-all ${classes.description}`}>
						<p>{description}</p>
					</div>
					<div className={classes["tech-stack"]}>
						<div className={classes.labels}>
							{techStack.map((item) => (
								<div
									key={item}
									className={`transition-all-normal ${classes.label}`}
								>
									<p>{item}</p>
								</div>
							))}
						</div>
					</div>
					<div
						className={`transition-all-normal ${classes["image"]} ${isHovered ? classes["image-hover"] : ""}`}
					>
						<svg viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet">
							<defs>
								<clipPath id="mask" clipPathUnits="objectBoundingBox">
									<path
										fillRule="evenodd"
										clipRule="evenodd"
										d="M0.612993 0.13102C0.612949 0.131162 0.612902 0.131306 0.612854 0.131453C0.613192 0.130163 0.61332 0.129974 0.612993 0.13102ZM0.262351 0.839519C0.264559 0.874544 0.273388 0.917504 0.300034 0.953431C0.321419 0.982265 0.348307 0.997032 0.37649 0.994514C0.401636 0.992268 0.421366 0.976877 0.433638 0.964896C0.454279 0.944747 0.47186 0.915226 0.478384 0.904271C0.479071 0.903117 0.479635 0.90217 0.480068 0.90146C0.488591 0.887483 0.496981 0.873617 0.505274 0.859857C0.505269 0.864871 0.505403 0.870028 0.505709 0.875291C0.510738 0.961815 0.558411 0.989457 0.573902 0.995321C0.590701 1.00168 0.605642 0.999926 0.61052 0.99929C0.641591 0.995241 0.66732 0.977297 0.686068 0.960708C0.702566 0.946111 0.717808 0.928614 0.728091 0.91681C0.729187 0.915551 0.730227 0.914357 0.731206 0.913239C0.777869 0.859922 0.823483 0.796204 0.865277 0.737822C0.884223 0.711355 0.902384 0.685986 0.919503 0.663179C0.927076 0.653088 0.933055 0.644869 0.938529 0.637345C0.94467 0.628903 0.950175 0.621335 0.956582 0.612982C0.95864 0.611052 0.961593 0.608187 0.964349 0.605148C0.966461 0.602819 0.972893 0.595671 0.979344 0.584416C0.9826 0.578736 0.988562 0.56741 0.993236 0.550831C0.998094 0.533598 1.00329 0.504052 0.99732 0.469034C0.985161 0.397778 0.943428 0.381237 0.938664 0.379349L0.93851 0.379288C0.927943 0.375074 0.918923 0.374934 0.915417 0.374934C0.88849 0.374934 0.864647 0.395261 0.849999 0.426497C0.84736 0.429985 0.844664 0.433593 0.841969 0.437229C0.847626 0.421338 0.853199 0.404088 0.85812 0.385654C0.858194 0.385379 0.858306 0.384964 0.858451 0.384431C0.859389 0.380968 0.861667 0.372565 0.86315 0.365963C0.864024 0.362072 0.866382 0.351396 0.867556 0.337834C0.868446 0.327544 0.871192 0.290021 0.855247 0.251851C0.83624 0.206352 0.806922 0.196042 0.792435 0.19432C0.781857 0.193063 0.773015 0.19522 0.768253 0.196725C0.77043 0.182917 0.771844 0.167113 0.771417 0.15C0.770183 0.100573 0.753557 0.0516733 0.721016 0.0236815C0.693285 -0.000173939 0.663713 -0.00339548 0.639563 0.00264774C0.623218 0.00673803 0.610251 0.0163189 0.603578 0.0216344C0.597746 0.0262797 0.591521 0.0320787 0.589177 0.0342628C0.588822 0.0345935 0.588556 0.0348413 0.588394 0.0349897C0.560745 0.0602836 0.536213 0.092337 0.517927 0.11623C0.516603 0.11796 0.515312 0.119647 0.514055 0.121286C0.487587 0.155783 0.461612 0.191871 0.43609 0.228781C0.439383 0.204256 0.440299 0.175117 0.435119 0.142711C0.43131 0.118882 0.423332 0.0913506 0.407601 0.0681963C0.391838 0.0449944 0.374206 0.034901 0.360853 0.0305311C0.348607 0.0265233 0.337834 0.0266814 0.332951 0.0268182C0.327229 0.0269784 0.326537 0.0270919 0.326127 0.0271591C0.325828 0.0272081 0.325679 0.0272325 0.323843 0.0272325C0.309084 0.0272325 0.291404 0.0295721 0.27257 0.0400967C0.253853 0.0505559 0.23891 0.0663249 0.226491 0.0831809C0.215357 0.0351144 0.185544 0.00071283 0.150516 0.00071283C0.105977 0.00071283 0.0698709 0.05633 0.0698709 0.124937C0.0698709 0.12907 0.0686731 0.140508 0.0581698 0.17074C0.0548605 0.180266 0.0523008 0.187186 0.0493549 0.19515C0.0469224 0.201727 0.0442266 0.209015 0.0406281 0.21907C0.0341963 0.23704 0.0265793 0.259454 0.0204916 0.284139C0.0200403 0.285969 0.0192864 0.288661 0.0172126 0.295883L0.017095 0.296292C0.015377 0.302275 0.0127611 0.311383 0.0103322 0.321157C0.00601949 0.338512 -0.00228506 0.374912 0.000593077 0.417677C0.0057635 0.4945 0.0468998 0.521812 0.0625553 0.528084C0.0775682 0.5341 0.090401 0.532391 0.0946563 0.531773C0.101476 0.530781 0.107629 0.528834 0.112045 0.527157C0.0915472 0.568445 0.0677337 0.621367 0.0530088 0.683372C0.0433588 0.724006 0.0373421 0.773467 0.0399973 0.823299C0.0430674 0.88092 0.068066 0.916779 0.0899662 0.931978C0.107216 0.94395 0.122994 0.944418 0.129309 0.944354C0.143641 0.944208 0.155969 0.939549 0.160813 0.937496C0.187681 0.926109 0.208624 0.904697 0.221789 0.890009C0.235978 0.874179 0.249549 0.856941 0.262351 0.839519ZM0.336375 0.275227C0.336368 0.275232 0.336201 0.275237 0.335894 0.275226C0.336228 0.275216 0.336381 0.275222 0.336375 0.275227ZM0.422992 0.821725C0.422991 0.821726 0.422993 0.821663 0.423 0.821533C0.422996 0.821658 0.422992 0.821724 0.422992 0.821725ZM0.665843 0.871461C0.665842 0.871466 0.665846 0.871438 0.665857 0.871379C0.665849 0.871429 0.665844 0.871457 0.665843 0.871461ZM0.914288 0.623371C0.914779 0.623385 0.91513 0.623384 0.915326 0.623383L0.915417 0.623383C0.91504 0.623383 0.914663 0.623379 0.914288 0.623371ZM0.952596 0.616664C0.95256 0.616687 0.952844 0.616405 0.953542 0.615764C0.952976 0.616324 0.952631 0.616641 0.952596 0.616664Z"
										fill="black"
									/>
								</clipPath>
							</defs>
							<image
								href={`/images/${slug}.png`}
								clipPath="url(#mask)"
								width="100%"
							/>
						</svg>
					</div>
				</a>
			</Card>
		</div>
	);
}
